{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ request.user.username }} | Profile</title>
  <link rel="stylesheet" href="{% static 'css/profile.css' %}">
</head>
<body>

  <!-- header / banner -->
  <div class="profile-header"></div>

  <!-- profile card -->
  <div class="profile-card">
    <img src="{{ user.profile.image.url }}" alt="Profile picture" class="profile-pic">
    <div class="profile-info">
      <h1>{{ user.username }}</h1>
      <p>{{ user.email }}</p>
      <p>Joined {{ user.date_joined|date:"F d, Y" }}</p>
    </div>

    <div class="actions">
        <button id="openModal" class="btn-outline">Edit</button>
        <a href="{% url 'blog-home' %}" class="btn-outline">Home</a>
    </div>
  </div>

  <!-- Modal wrapper (must exist!) -->
  <div id="editModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <span class="close" id="closeModal" aria-label="Close">&times;</span>
      <h2>Edit Profile</h2>

      <form id="edit-profile" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="text" id="username" name="newUser" placeholder="New Username">
        <input type="email" id="new-email" name="newEmail" placeholder="New Email">
        <input type="file" id="profile" name="profile" accept="image/*">
        <button type="submit">Save</button>
      </form>
    </div>
  </div>

  <script src="{% static 'js/profile.js' %}?v=1.2"></script>

</body>
</html>

